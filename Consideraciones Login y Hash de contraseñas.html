<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.0/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/index.js"></script><script>(()=>{setTimeout(()=>{const{markmap:q,mm:v}=window,j=new q.Toolbar;j.attach(v);const we=j.render();we.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(we)})})()</script><script>((f,d,h,u)=>{const g=f();window.mm=g.Markmap.create("svg#mindmap",(d||g.deriveOptions)(u),h)})(()=>window.markmap,null,{"content":"Desarrollo del Lado del Servidor","children":[{"content":"Configuración del Entorno","children":[{"content":"<strong>Variables de Entorno</strong>","children":[{"content":"<strong>Secreto de JWT</strong>: Clave para firmar tokens JWT.","children":[],"payload":{"lines":"4,5"}},{"content":"<strong>Salt Rounds para bcrypt</strong>: Número de iteraciones para aumentar la seguridad del hash.","children":[],"payload":{"lines":"5,6"}},{"content":"<strong>Conexión a la base de datos</strong>: Configuración para conectarse a PostgreSQL.","children":[],"payload":{"lines":"6,7"}}],"payload":{"lines":"3,7"}},{"content":"<strong>Configuración del Proyecto</strong>","children":[{"content":"<strong><code>tsconfig.json</code></strong>: Configura TypeScript para usar ES2020 y módulos ES.","children":[],"payload":{"lines":"8,10"}}],"payload":{"lines":"7,10"}}],"payload":{"lines":"2,3"}},{"content":"Modelo de Usuario","children":[{"content":"<strong>Definir Entidad con TypeORM</strong>","children":[{"content":"<strong>Campos</strong>:","children":[{"content":"<code>email</code>: Correo electrónico del usuario.","children":[],"payload":{"lines":"13,14"}},{"content":"<code>password</code>: Contraseña hasheada.","children":[],"payload":{"lines":"14,15"}},{"content":"<code>isActive</code>: Estado activo del usuario.","children":[],"payload":{"lines":"15,16"}}],"payload":{"lines":"12,16"}},{"content":"<strong>Evitar exponer contraseñas</strong>: No mostrar contraseñas en respuestas JSON.","children":[],"payload":{"lines":"16,18"}}],"payload":{"lines":"11,18"}}],"payload":{"lines":"10,11"}},{"content":"Registro y Hash de Contraseñas","children":[{"content":"<strong>Hashing con bcrypt</strong>","children":[{"content":"<strong>Usar <code>bcrypt.hash</code></strong>: Genera un hash seguro de la contraseña.","children":[],"payload":{"lines":"20,21"}},{"content":"<strong>Salt Rounds (10-12)</strong>: Iteraciones para asegurar el hash.","children":[],"payload":{"lines":"21,22"}}],"payload":{"lines":"19,22"}},{"content":"<strong>Almacenar Hash en la Base de Datos</strong>","children":[{"content":"<strong><code>userRepository.create()</code></strong>: Crear nuevo usuario con contraseña hasheada.","children":[],"payload":{"lines":"23,24"}},{"content":"<strong><code>userRepository.save()</code></strong>: Guardar usuario en la base de datos.","children":[],"payload":{"lines":"24,26"}}],"payload":{"lines":"22,26"}}],"payload":{"lines":"18,19"}},{"content":"Verificación de Contraseñas","children":[{"content":"<strong>Comparación con bcrypt</strong>","children":[{"content":"<strong>Usar <code>bcrypt.compare</code></strong>: Verifica que la contraseña ingresada coincida con el hash.","children":[],"payload":{"lines":"28,30"}}],"payload":{"lines":"27,30"}}],"payload":{"lines":"26,27"}},{"content":"Generación de JWT","children":[{"content":"<strong>Token de Acceso</strong>","children":[{"content":"<strong>Usar <code>jsonwebtoken.sign</code></strong>: Genera un token JWT para autenticación.","children":[],"payload":{"lines":"32,33"}},{"content":"<strong>Configurar <code>secretKey</code></strong>: Clave para firmar el token.","children":[],"payload":{"lines":"33,34"}},{"content":"<strong>Definir tiempo de expiración</strong>: Tiempo en el que el token es válido (ej. 1 hora).","children":[],"payload":{"lines":"34,35"}}],"payload":{"lines":"31,35"}},{"content":"<strong>Almacenar el Token</strong>","children":[{"content":"<strong>Local storage o cookies seguras</strong>: Donde se guarda el token en el cliente.","children":[],"payload":{"lines":"36,38"}}],"payload":{"lines":"35,38"}}],"payload":{"lines":"30,31"}},{"content":"Autenticación y Middleware","children":[{"content":"<strong>Middleware JWT</strong>","children":[{"content":"<strong>Validar token con <code>jsonwebtoken.verify</code></strong>: Verifica el token en las solicitudes.","children":[],"payload":{"lines":"40,41"}},{"content":"<strong>Definir middleware <code>authenticateJWT</code></strong>: Asegura que las rutas protegidas solo sean accesibles con un token válido.","children":[],"payload":{"lines":"41,43"}}],"payload":{"lines":"39,43"}}],"payload":{"lines":"38,39"}},{"content":"Login","children":[{"content":"<strong>Validación del Usuario</strong>","children":[{"content":"<strong>Verificar existencia del usuario</strong>: Confirmar que el usuario existe en la base de datos.","children":[],"payload":{"lines":"45,46"}},{"content":"<strong>Comparar contraseñas</strong>: Asegurarse de que la contraseña ingresada coincida con el hash.","children":[],"payload":{"lines":"46,47"}},{"content":"<strong>Generar y devolver JWT</strong>: Crear un token y enviarlo al cliente si la autenticación es exitosa.","children":[],"payload":{"lines":"47,49"}}],"payload":{"lines":"44,49"}}],"payload":{"lines":"43,44"}},{"content":"Logout","children":[{"content":"<strong>Invalidación del JWT</strong>","children":[{"content":"<strong>Lista negra (opcional)</strong>: Mantener una lista de tokens inválidos.","children":[],"payload":{"lines":"51,52"}},{"content":"<strong>Borrar token del cliente</strong>: Eliminar el token almacenado en el cliente (local storage o cookies).","children":[],"payload":{"lines":"52,54"}}],"payload":{"lines":"50,54"}}],"payload":{"lines":"49,50"}},{"content":"Manejo de Errores y Seguridad","children":[{"content":"<strong>Rate Limiting</strong>","children":[{"content":"<strong>Usar <code>express-rate-limit</code></strong>: Limitar el número de intentos de login para evitar ataques.","children":[],"payload":{"lines":"56,57"}}],"payload":{"lines":"55,57"}},{"content":"<strong>Protección contra ataques de fuerza bruta</strong>: Prevenir ataques que intentan adivinar contraseñas mediante múltiples intentos.","children":[],"payload":{"lines":"57,58"}},{"content":"<strong>Validación de Inputs</strong>","children":[{"content":"<strong>Sanitización</strong>: Asegurarse de que los datos ingresados no contengan código malicioso.","children":[],"payload":{"lines":"59,60"}}],"payload":{"lines":"58,60"}},{"content":"<strong>Seguridad del JWT</strong>","children":[{"content":"<strong>Tiempos de expiración cortos</strong>: Reducir el tiempo en que el token es válido para mayor seguridad.","children":[],"payload":{"lines":"61,62"}},{"content":"<strong>Tokens de refresco (opcional)</strong>: Usar tokens adicionales para renovar la sesión sin volver a pedir credenciales.","children":[],"payload":{"lines":"62,64"}}],"payload":{"lines":"60,64"}}],"payload":{"lines":"54,55"}},{"content":"Pruebas","children":[{"content":"<strong>Pruebas Unitarias</strong>","children":[{"content":"<strong>Hash, comparación de contraseñas, generación de tokens</strong>: Verificar cada función individualmente.","children":[],"payload":{"lines":"66,67"}}],"payload":{"lines":"65,67"}},{"content":"<strong>Pruebas de Integración</strong>","children":[{"content":"<strong>Endpoints <code>/login</code>, <code>/register</code></strong>: Asegurar que los puntos de entrada de la API funcionen correctamente en conjunto.","children":[],"payload":{"lines":"68,70"}}],"payload":{"lines":"67,70"}}],"payload":{"lines":"64,65"}},{"content":"Estructura del Proyecto","children":[{"content":"<strong>Carpeta <code>backend</code></strong>","children":[{"content":"<strong><code>src/config/</code></strong>: Configuraciones de la base de datos y otros entornos.","children":[],"payload":{"lines":"72,73"}},{"content":"<strong><code>src/controllers/</code></strong>: Lógica de control para manejar las solicitudes.","children":[],"payload":{"lines":"73,74"}},{"content":"<strong><code>src/entities/</code></strong>: Definición de modelos de base de datos.","children":[],"payload":{"lines":"74,75"}},{"content":"<strong><code>src/middlewares/</code></strong>: Funcionalidades intermedias como autenticación.","children":[],"payload":{"lines":"75,76"}},{"content":"<strong><code>src/services/</code></strong>: Servicios para funciones como hashing y generación de tokens.","children":[],"payload":{"lines":"76,77"}},{"content":"<strong><code>src/routes/</code></strong>: Definición de rutas de la API.","children":[],"payload":{"lines":"77,78"}},{"content":"<strong><code>src/app.ts</code></strong>: Configuración principal de Express.","children":[],"payload":{"lines":"78,79"}}],"payload":{"lines":"71,79"}},{"content":"<strong>Archivos</strong>","children":[{"content":"<strong><code>.env</code></strong>: Variables de entorno.","children":[],"payload":{"lines":"80,81"}},{"content":"<strong><code>ormconfig.json</code></strong>: Configuración de TypeORM.","children":[],"payload":{"lines":"81,82"}},{"content":"<strong><code>package.json</code></strong>: Dependencias y scripts del proyecto.","children":[],"payload":{"lines":"82,83"}}],"payload":{"lines":"79,83"}}],"payload":{"lines":"70,71"}}],"payload":{"lines":"0,1"}},null)</script>
</body>
</html>
