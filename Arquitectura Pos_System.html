<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script><script>(()=>{setTimeout(()=>{const{markmap:S,mm:Q}=window,$=new S.Toolbar;$.attach(Q);const I=$.render();I.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(I)})})()</script><script>((l,U,M,R)=>{const N=l();window.mm=N.Markmap.create("svg#mindmap",(U||N.deriveOptions)(R),M),window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("markmap-dark")})(()=>window.markmap,null,{"content":"Arquitectura del proyecto <code>mquirosp-pos_system</code>","children":[{"content":"&#x2705; Arquitectura actual","children":[{"content":"&#x1f4c1; Entrada (Entry Layer)","children":[{"content":"routes/","children":[],"payload":{"tag":"li","lines":"4,5"}},{"content":"controllers/","children":[],"payload":{"tag":"li","lines":"5,6"}},{"content":"middlewares/","children":[],"payload":{"tag":"li","lines":"6,7"}},{"content":"Valida, enruta, maneja errores","children":[],"payload":{"tag":"li","lines":"7,9"}}],"payload":{"tag":"h3","lines":"3,4"}},{"content":"&#x1f4c1; Aplicaci&#xf3;n / Servicios","children":[{"content":"services/","children":[],"payload":{"tag":"li","lines":"10,11"}},{"content":"Orquestan l&#xf3;gica de negocio","children":[],"payload":{"tag":"li","lines":"11,12"}},{"content":"Llaman entidades y repositorios directamente","children":[],"payload":{"tag":"li","lines":"12,14"}}],"payload":{"tag":"h3","lines":"9,10"}},{"content":"&#x1f4c1; Dominio","children":[{"content":"dtos/","children":[],"payload":{"tag":"li","lines":"15,16"}},{"content":"interfaces/","children":[],"payload":{"tag":"li","lines":"16,17"}},{"content":"enums/","children":[],"payload":{"tag":"li","lines":"17,18"}},{"content":"decorators/","children":[],"payload":{"tag":"li","lines":"18,19"}},{"content":"utils/","children":[],"payload":{"tag":"li","lines":"19,20"}},{"content":"Contiene reglas del dominio pero est&#xe1; acoplado a TypeORM","children":[],"payload":{"tag":"li","lines":"20,22"}}],"payload":{"tag":"h3","lines":"14,15"}},{"content":"&#x1f4c1; Infraestructura","children":[{"content":"database/","children":[{"content":"entities/","children":[],"payload":{"tag":"li","lines":"24,25"}},{"content":"migrations/","children":[],"payload":{"tag":"li","lines":"25,26"}}],"payload":{"tag":"li","lines":"23,26"}},{"content":"config/","children":[],"payload":{"tag":"li","lines":"26,27"}},{"content":"services/hashService.ts, jwt.services.ts","children":[],"payload":{"tag":"li","lines":"27,28"}},{"content":"utils/logger.ts","children":[],"payload":{"tag":"li","lines":"28,30"}}],"payload":{"tag":"h3","lines":"22,23"}},{"content":"&#x1f4c1; Bootstrap / Arranque","children":[{"content":"index.ts","children":[],"payload":{"tag":"li","lines":"31,32"}},{"content":"server/","children":[],"payload":{"tag":"li","lines":"32,33"}},{"content":"register-aliases.ts","children":[],"payload":{"tag":"li","lines":"33,35"}}],"payload":{"tag":"h3","lines":"30,31"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x1f9f1; Fortalezas actuales","children":[{"content":"Separaci&#xf3;n clara de responsabilidades","children":[],"payload":{"tag":"li","lines":"38,39"}},{"content":"Uso adecuado de middlewares","children":[],"payload":{"tag":"li","lines":"39,40"}},{"content":"Buen encapsulamiento de l&#xf3;gica de negocio en services","children":[],"payload":{"tag":"li","lines":"40,41"}},{"content":"Configuraci&#xf3;n modular","children":[],"payload":{"tag":"li","lines":"41,43"}}],"payload":{"tag":"h2","lines":"37,38"}},{"content":"&#x26a0;&#xfe0f; Limitaciones si se desea escalar","children":[{"content":"Acoplamiento a TypeORM en los servicios","children":[],"payload":{"tag":"li","lines":"44,45"}},{"content":"Falta de inversi&#xf3;n de dependencias","children":[],"payload":{"tag":"li","lines":"45,46"}},{"content":"Dominio contaminado por infraestructura","children":[],"payload":{"tag":"li","lines":"46,48"}}],"payload":{"tag":"h2","lines":"43,44"}},{"content":"&#x1f4a1; Hacia una arquitectura hexagonal","children":[{"content":"&#x1f504; Inversi&#xf3;n de dependencias","children":[{"content":"Los servicios no dependen del ORM","children":[],"payload":{"tag":"li","lines":"53,54"}},{"content":"Se crean interfaces de repositorios (ports)","children":[],"payload":{"tag":"li","lines":"54,56"}}],"payload":{"tag":"h3","lines":"52,53"}},{"content":"&#x1f4e6; Adaptadores (Infrastructure)","children":[{"content":"Implementan los ports usando TypeORM","children":[],"payload":{"tag":"li","lines":"57,58"}},{"content":"Ejemplo: TypeORMUserRepository implementa IUserRepository","children":[],"payload":{"tag":"li","lines":"58,60"}}],"payload":{"tag":"h3","lines":"56,57"}},{"content":"&#x1f501; Servicios m&#xe1;s puros","children":[{"content":"No importan entidades ORM directamente","children":[],"payload":{"tag":"li","lines":"61,62"}},{"content":"Usan interfaces de dominio y DTOs","children":[],"payload":{"tag":"li","lines":"62,64"}}],"payload":{"tag":"h3","lines":"60,61"}},{"content":"&#x1f50c; Entrada como puerto","children":[{"content":"Controllers act&#xfa;an como adaptadores que llaman a casos de uso (use-cases)","children":[],"payload":{"tag":"li","lines":"65,66"}},{"content":"Permiten cambiar REST por GraphQL, CLI, etc. sin afectar l&#xf3;gica","children":[],"payload":{"tag":"li","lines":"66,68"}}],"payload":{"tag":"h3","lines":"64,65"}},{"content":"&#x1f4dc; Entidades del dominio puras","children":[{"content":"Sin decoradores ni anotaciones de TypeORM","children":[],"payload":{"tag":"li","lines":"69,70"}},{"content":"Separadas de la infraestructura","children":[],"payload":{"tag":"li","lines":"70,72"}}],"payload":{"tag":"h3","lines":"68,69"}}],"payload":{"tag":"h2","lines":"50,51"}},{"content":"&#x1f4cc; Resultado","children":[{"content":"Dominio completamente independiente","children":[],"payload":{"tag":"li","lines":"75,76"}},{"content":"Infraestructura puede cambiar sin afectar l&#xf3;gica de negocio","children":[],"payload":{"tag":"li","lines":"76,77"}},{"content":"Alta testabilidad y mantenibilidad","children":[],"payload":{"tag":"li","lines":"77,78"}}],"payload":{"tag":"h2","lines":"74,75"}}],"payload":{"tag":"h1","lines":"0,1"}},null)</script>
</body>
</html>
