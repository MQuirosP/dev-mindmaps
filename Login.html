<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.0/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.17.0/dist/index.js"></script><script>(()=>{setTimeout(()=>{const{markmap:q,mm:v}=window,j=new q.Toolbar;j.attach(v);const we=j.render();we.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(we)})})()</script><script>((f,d,h,u)=>{const g=f();window.mm=g.Markmap.create("svg#mindmap",(d||g.deriveOptions)(u),h)})(()=>window.markmap,null,{"content":"Sistema de Login con Angular y Node.js","children":[{"content":"Frontend (Angular)","children":[{"content":"Configuración de Proyecto","children":[{"content":"Crear nuevo proyecto con Angular CLI","children":[],"payload":{"lines":"5,6"}},{"content":"Instalar librerías necesarias","children":[{"content":"<code>@angular/forms</code>","children":[],"payload":{"lines":"7,8"}},{"content":"<code>@angular/router</code>","children":[],"payload":{"lines":"8,9"}},{"content":"<code>@angular/httpclient</code>","children":[],"payload":{"lines":"9,11"}}],"payload":{"lines":"6,11"}}],"payload":{"lines":"4,5"}},{"content":"Componentes","children":[{"content":"<strong>Login Component</strong>","children":[{"content":"Formulario de Login con validaciones (Reactive Forms)","children":[],"payload":{"lines":"13,14"}},{"content":"Inputs: Email y Contraseña","children":[],"payload":{"lines":"14,15"}},{"content":"Envío de formulario a través de <code>HttpClient</code>","children":[],"payload":{"lines":"15,16"}}],"payload":{"lines":"12,16"}},{"content":"<strong>Register Component</strong>","children":[{"content":"Formulario de Registro con validaciones (Reactive Forms)","children":[],"payload":{"lines":"17,18"}},{"content":"Inputs: Nombre, Email y Contraseña","children":[],"payload":{"lines":"18,19"}},{"content":"Envío de formulario a través de <code>HttpClient</code>","children":[],"payload":{"lines":"19,20"}}],"payload":{"lines":"16,20"}},{"content":"<strong>Profile Component</strong>","children":[{"content":"Muestra información del usuario autenticado","children":[],"payload":{"lines":"21,22"}},{"content":"Protegido con guard de rutas","children":[],"payload":{"lines":"22,24"}}],"payload":{"lines":"20,24"}}],"payload":{"lines":"11,12"}},{"content":"Servicios","children":[{"content":"<strong>AuthService</strong>","children":[{"content":"Métodos para login, registro y renovación de token","children":[],"payload":{"lines":"26,27"}},{"content":"Uso de <code>HttpClient</code> para conectar con la API","children":[],"payload":{"lines":"27,28"}},{"content":"Manejo de tokens en <code>localStorage</code>","children":[],"payload":{"lines":"28,29"}}],"payload":{"lines":"25,29"}},{"content":"<strong>TokenInterceptor</strong>","children":[{"content":"Intercepta solicitudes HTTP para añadir el token JWT en los encabezados","children":[],"payload":{"lines":"30,32"}}],"payload":{"lines":"29,32"}}],"payload":{"lines":"24,25"}},{"content":"Guardias","children":[{"content":"<strong>AuthGuard</strong>","children":[{"content":"Protege rutas que requieren autenticación","children":[],"payload":{"lines":"34,35"}},{"content":"Redirige al login si el usuario no está autenticado","children":[],"payload":{"lines":"35,37"}}],"payload":{"lines":"33,37"}}],"payload":{"lines":"32,33"}},{"content":"Manejo de Tokens","children":[{"content":"Almacenar token JWT en <code>localStorage</code>","children":[],"payload":{"lines":"38,39"}},{"content":"Almacenar token de renovación si se utiliza refresh tokens","children":[],"payload":{"lines":"39,40"}},{"content":"Implementar lógica de renovación automática","children":[],"payload":{"lines":"40,42"}}],"payload":{"lines":"37,38"}}],"payload":{"lines":"2,3"}},{"content":"Backend (Node.js + Express)","children":[{"content":"Configuración del Proyecto","children":[{"content":"Crear proyecto con Node.js y Express","children":[],"payload":{"lines":"45,46"}},{"content":"Instalar dependencias:","children":[{"content":"<code>express</code>","children":[],"payload":{"lines":"47,48"}},{"content":"<code>bcryptjs</code>","children":[],"payload":{"lines":"48,49"}},{"content":"<code>jsonwebtoken</code>","children":[],"payload":{"lines":"49,50"}},{"content":"<code>pg</code>","children":[],"payload":{"lines":"50,51"}},{"content":"<code>dotenv</code>","children":[],"payload":{"lines":"51,52"}},{"content":"<code>cors</code>","children":[],"payload":{"lines":"52,53"}}],"payload":{"lines":"46,53"}},{"content":"Configuración de variables de entorno (<code>.env</code>):","children":[{"content":"<code>DATABASE_URL</code>: URL de PostgreSQL","children":[],"payload":{"lines":"54,55"}},{"content":"<code>JWT_SECRET</code>: Clave secreta para JWT","children":[],"payload":{"lines":"55,56"}},{"content":"<code>REFRESH_SECRET</code>: Clave secreta para tokens de renovación","children":[],"payload":{"lines":"56,58"}}],"payload":{"lines":"53,58"}}],"payload":{"lines":"44,45"}},{"content":"Base de Datos (PostgreSQL)","children":[{"content":"Crear base de datos <code>auth_db</code>","children":[],"payload":{"lines":"59,60"}},{"content":"Crear tabla <code>users</code>:","children":[{"content":"<code>id SERIAL PRIMARY KEY</code>","children":[],"payload":{"lines":"61,62"}},{"content":"<code>name VARCHAR(255)</code>","children":[],"payload":{"lines":"62,63"}},{"content":"<code>email VARCHAR(255) UNIQUE</code>","children":[],"payload":{"lines":"63,64"}},{"content":"<code>password VARCHAR(255)</code>","children":[],"payload":{"lines":"64,65"}},{"content":"<code>created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP</code>","children":[],"payload":{"lines":"65,67"}}],"payload":{"lines":"60,67"}}],"payload":{"lines":"58,59"}},{"content":"Rutas","children":[{"content":"<strong>/api/auth/register</strong>","children":[{"content":"Registra un nuevo usuario","children":[],"payload":{"lines":"69,70"}},{"content":"Encripta la contraseña con <code>bcryptjs</code>","children":[],"payload":{"lines":"70,71"}}],"payload":{"lines":"68,71"}},{"content":"<strong>/api/auth/login</strong>","children":[{"content":"Verifica las credenciales","children":[],"payload":{"lines":"72,73"}},{"content":"Genera un token JWT al autenticarse","children":[],"payload":{"lines":"73,74"}},{"content":"Genera un refresh token","children":[],"payload":{"lines":"74,75"}}],"payload":{"lines":"71,75"}},{"content":"<strong>/api/auth/refresh</strong>","children":[{"content":"Verifica el token de renovación","children":[],"payload":{"lines":"76,77"}},{"content":"Genera un nuevo token JWT","children":[],"payload":{"lines":"77,78"}}],"payload":{"lines":"75,78"}},{"content":"<strong>/api/auth/me</strong>","children":[{"content":"Ruta protegida","children":[],"payload":{"lines":"79,80"}},{"content":"Devuelve información del usuario autenticado","children":[],"payload":{"lines":"80,82"}}],"payload":{"lines":"78,82"}}],"payload":{"lines":"67,68"}},{"content":"Middleware","children":[{"content":"<strong>authMiddleware.js</strong>","children":[{"content":"Verifica el token JWT en rutas protegidas","children":[],"payload":{"lines":"84,85"}},{"content":"Decodifica el token y agrega <code>userId</code> a la solicitud","children":[],"payload":{"lines":"85,87"}}],"payload":{"lines":"83,87"}}],"payload":{"lines":"82,83"}},{"content":"Seguridad","children":[{"content":"<strong>Encriptación de Contraseñas</strong>","children":[{"content":"Uso de <code>bcryptjs</code> para encriptar contraseñas","children":[],"payload":{"lines":"89,90"}}],"payload":{"lines":"88,90"}},{"content":"<strong>Tokens JWT</strong>","children":[{"content":"Firmar tokens con <code>jsonwebtoken</code>","children":[],"payload":{"lines":"91,92"}},{"content":"Establecer expiración de tokens (1 hora)","children":[],"payload":{"lines":"92,93"}}],"payload":{"lines":"90,93"}},{"content":"<strong>Tokens de Renovación (Refresh Tokens)</strong>","children":[{"content":"Generar y almacenar tokens de renovación","children":[],"payload":{"lines":"94,95"}},{"content":"Ruta para intercambiar el token de renovación por un nuevo JWT","children":[],"payload":{"lines":"95,96"}}],"payload":{"lines":"93,96"}},{"content":"<strong>Protección CORS</strong>","children":[{"content":"Configuración de CORS para permitir el acceso desde el frontend Angular","children":[],"payload":{"lines":"97,99"}}],"payload":{"lines":"96,99"}}],"payload":{"lines":"87,88"}},{"content":"Deployment","children":[{"content":"Asegurarse de utilizar HTTPS en producción","children":[],"payload":{"lines":"100,101"}},{"content":"Configurar correctamente las variables de entorno para la base de datos y claves secretas","children":[],"payload":{"lines":"101,102"}},{"content":"Usar PM2 o similar para manejar el backend en producción","children":[],"payload":{"lines":"102,103"}}],"payload":{"lines":"99,100"}}],"payload":{"lines":"42,43"}}],"payload":{"lines":"0,1"}},null)</script>
</body>
</html>
