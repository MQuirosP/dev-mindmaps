<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script><script>(()=>{setTimeout(()=>{const{markmap:S,mm:Q}=window,$=new S.Toolbar;$.attach(Q);const I=$.render();I.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(I)})})()</script><script>((l,U,M,R)=>{const N=l();window.mm=N.Markmap.create("svg#mindmap",(U||N.deriveOptions)(R),M),window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("markmap-dark")})(()=>window.markmap,null,{"content":"Patrones de Dise&#xf1;o en JavaScript/TypeScript (Node.js + Express)","children":[{"content":"&#x1f4a1; Introducci&#xf3;n","children":[{"content":"Los patrones de dise&#xf1;o son soluciones reutilizables a problemas comunes en el desarrollo de software.","children":[],"payload":{"tag":"li","lines":"3,4"}},{"content":"No son fragmentos de c&#xf3;digo espec&#xed;ficos, sino plantillas para abordar desaf&#xed;os de dise&#xf1;o de forma eficaz y mantenible.","children":[],"payload":{"tag":"li","lines":"4,5"}},{"content":"Nos ayudan a crear c&#xf3;digo m&#xe1;s limpio, escalable, testable y desacoplado.","children":[],"payload":{"tag":"li","lines":"5,7"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x1f4da; Clasificaci&#xf3;n","children":[{"content":"1. Patrones Creacionales","children":[{"content":"Se enfocan en c&#xf3;mo se crean los objetos.","children":[],"payload":{"tag":"li","lines":"10,11"}},{"content":"Ayudan a hacer el sistema independiente de c&#xf3;mo se crean, componen y representan los objetos.","children":[],"payload":{"tag":"li","lines":"11,13"}}],"payload":{"tag":"h3","lines":"9,10"}},{"content":"2. Patrones Estructurales","children":[{"content":"Se centran en c&#xf3;mo se componen las clases y objetos.","children":[],"payload":{"tag":"li","lines":"14,15"}},{"content":"Facilitan la creaci&#xf3;n de estructuras complejas a partir de objetos simples.","children":[],"payload":{"tag":"li","lines":"15,17"}}],"payload":{"tag":"h3","lines":"13,14"}},{"content":"3. Patrones de Comportamiento","children":[{"content":"Se enfocan en c&#xf3;mo interact&#xfa;an los objetos y c&#xf3;mo se reparten las responsabilidades.","children":[],"payload":{"tag":"li","lines":"18,20"}}],"payload":{"tag":"h3","lines":"17,18"}}],"payload":{"tag":"h2","lines":"7,8"}},{"content":"&#x1f4c6; Patrones Creacionales","children":[{"content":"Singleton","children":[{"content":"<pre data-lines=\"26,37\"><code class=\"language-ts\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Logger</span> {\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-attr\">instance</span>: <span class=\"hljs-title class_\">Logger</span>;\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"></span>) {}\n  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">getInstance</span>(): <span class=\"hljs-title class_\">Logger</span> {\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title class_\">Logger</span>.<span class=\"hljs-property\">instance</span>) <span class=\"hljs-title class_\">Logger</span>.<span class=\"hljs-property\">instance</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Logger</span>();\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Logger</span>.<span class=\"hljs-property\">instance</span>;\n  }\n  <span class=\"hljs-title function_\">log</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">msg</span>: <span class=\"hljs-built_in\">string</span></span>) { <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`[LOG]: <span class=\"hljs-subst\">&#x24;{msg}</span>`</span>); }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"26,37"}}],"payload":{"tag":"h3","lines":"22,23"}},{"content":"Factory Method","children":[{"content":"<pre data-lines=\"42,63\"><code class=\"language-ts\"><span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span> {\n  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-attr\">name</span>: <span class=\"hljs-built_in\">string</span></span>) {}\n  <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-title function_\">role</span>(): <span class=\"hljs-built_in\">string</span>;\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Admin</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">User</span> {\n  <span class=\"hljs-title function_\">role</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;Admin&quot;</span>; }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Guest</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">User</span> {\n  <span class=\"hljs-title function_\">role</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;Guest&quot;</span>; }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserFactory</span> {\n  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">createUser</span>(<span class=\"hljs-attr\">type</span>: <span class=\"hljs-built_in\">string</span>, <span class=\"hljs-attr\">name</span>: <span class=\"hljs-built_in\">string</span>): <span class=\"hljs-title class_\">User</span> {\n    <span class=\"hljs-keyword\">switch</span> (<span class=\"hljs-keyword\">type</span>) {\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;admin&quot;</span>: <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Admin</span>(name);\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;guest&quot;</span>: <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Guest</span>(name);\n      <span class=\"hljs-attr\">default</span>: <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&quot;Tipo desconocido&quot;</span>);\n    }\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,63"}}],"payload":{"tag":"h3","lines":"38,39"}}],"payload":{"tag":"h2","lines":"20,21"}},{"content":"&#x1f4dd; Patrones Estructurales","children":[{"content":"Adapter","children":[{"content":"<pre data-lines=\"70,83\"><code class=\"language-ts\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ExternalLogger</span> {\n  <span class=\"hljs-title function_\">write</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">msg</span>: <span class=\"hljs-built_in\">string</span></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;External:&quot;</span>, msg);\n  }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LoggerAdapter</span> {\n  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">private</span> ext = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ExternalLogger</span>()</span>) {}\n  <span class=\"hljs-title function_\">log</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">msg</span>: <span class=\"hljs-built_in\">string</span></span>) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">ext</span>.<span class=\"hljs-title function_\">write</span>(msg);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"70,83"}}],"payload":{"tag":"h3","lines":"66,67"}},{"content":"Decorator","children":[{"content":"<pre data-lines=\"88,94\"><code class=\"language-ts\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">decorateResponse</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">res</span>: <span class=\"hljs-built_in\">any</span></span>) {\n  res.<span class=\"hljs-property\">success</span> = <span class=\"hljs-function\">(<span class=\"hljs-params\"><span class=\"hljs-attr\">data</span>: <span class=\"hljs-built_in\">any</span></span>) =&gt;</span> res.<span class=\"hljs-title function_\">json</span>({ <span class=\"hljs-attr\">status</span>: <span class=\"hljs-string\">&quot;ok&quot;</span>, data });\n  res.<span class=\"hljs-property\">error</span> = <span class=\"hljs-function\">(<span class=\"hljs-params\"><span class=\"hljs-attr\">msg</span>: <span class=\"hljs-built_in\">string</span></span>) =&gt;</span> res.<span class=\"hljs-title function_\">status</span>(<span class=\"hljs-number\">400</span>).<span class=\"hljs-title function_\">json</span>({ <span class=\"hljs-attr\">status</span>: <span class=\"hljs-string\">&quot;error&quot;</span>, msg });\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"88,94"}}],"payload":{"tag":"h3","lines":"84,85"}},{"content":"Facade","children":[{"content":"<pre data-lines=\"99,117\"><code class=\"language-ts\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Bank</span> {\n  <span class=\"hljs-title function_\">transfer</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">from</span>: <span class=\"hljs-built_in\">string</span>, <span class=\"hljs-attr\">to</span>: <span class=\"hljs-built_in\">string</span>, <span class=\"hljs-attr\">amount</span>: <span class=\"hljs-built_in\">number</span></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`Transfiriendo <span class=\"hljs-subst\">&#x24;{amount}</span> de <span class=\"hljs-subst\">&#x24;{<span class=\"hljs-keyword\">from</span>}</span> a <span class=\"hljs-subst\">&#x24;{to}</span>`</span>);\n  }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Notifier</span> {\n  <span class=\"hljs-title function_\">send</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">message</span>: <span class=\"hljs-built_in\">string</span></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`Notificando: <span class=\"hljs-subst\">&#x24;{message}</span>`</span>);\n  }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">PaymentFacade</span> {\n  <span class=\"hljs-title function_\">pay</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">from</span>: <span class=\"hljs-built_in\">string</span>, <span class=\"hljs-attr\">to</span>: <span class=\"hljs-built_in\">string</span>, <span class=\"hljs-attr\">amount</span>: <span class=\"hljs-built_in\">number</span></span>) {\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Bank</span>().<span class=\"hljs-title function_\">transfer</span>(<span class=\"hljs-keyword\">from</span>, to, amount);\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Notifier</span>().<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&quot;Pago completado&quot;</span>);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,117"}}],"payload":{"tag":"h3","lines":"95,96"}}],"payload":{"tag":"h2","lines":"64,65"}},{"content":"&#x1f504; Patrones de Comportamiento","children":[{"content":"Observer","children":[{"content":"<pre data-lines=\"124,131\"><code class=\"language-ts\"><span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">EventEmitter</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;events&apos;</span>;\n\n<span class=\"hljs-keyword\">const</span> emitter = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">EventEmitter</span>();\nemitter.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&quot;dataSaved&quot;</span>, <span class=\"hljs-function\">() =&gt;</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;Guardado&quot;</span>));\nemitter.<span class=\"hljs-title function_\">emit</span>(<span class=\"hljs-string\">&quot;dataSaved&quot;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"124,131"}}],"payload":{"tag":"h3","lines":"120,121"}},{"content":"Strategy","children":[{"content":"<pre data-lines=\"136,150\"><code class=\"language-ts\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CRStrategy</span> {\n  <span class=\"hljs-title function_\">calculate</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">a</span>: <span class=\"hljs-built_in\">number</span></span>) { <span class=\"hljs-keyword\">return</span> a * <span class=\"hljs-number\">0.13</span>; }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">USStrategy</span> {\n  <span class=\"hljs-title function_\">calculate</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">a</span>: <span class=\"hljs-built_in\">number</span></span>) { <span class=\"hljs-keyword\">return</span> a * <span class=\"hljs-number\">0.07</span>; }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Calculator</span> {\n  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-attr\">strat</span>: { calculate: (a: <span class=\"hljs-built_in\">number</span>) =&gt; <span class=\"hljs-built_in\">number</span> }</span>) {}\n  <span class=\"hljs-title function_\">calc</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">a</span>: <span class=\"hljs-built_in\">number</span></span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">strat</span>.<span class=\"hljs-title function_\">calculate</span>(a);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"136,150"}}],"payload":{"tag":"h3","lines":"132,133"}},{"content":"Command","children":[{"content":"<pre data-lines=\"155,176\"><code class=\"language-ts\"><span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">Command</span> {\n  <span class=\"hljs-title function_\">execute</span>(): <span class=\"hljs-built_in\">void</span>;\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TurnOn</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Command</span> {\n  <span class=\"hljs-title function_\">execute</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;Luz encendida&quot;</span>);\n  }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TurnOff</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Command</span> {\n  <span class=\"hljs-title function_\">execute</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;Luz apagada&quot;</span>);\n  }\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">RemoteControl</span> {\n  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-attr\">command</span>: <span class=\"hljs-title class_\">Command</span></span>) {}\n  <span class=\"hljs-title function_\">pressButton</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">command</span>.<span class=\"hljs-title function_\">execute</span>();\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"155,176"}}],"payload":{"tag":"h3","lines":"151,152"}},{"content":"Chain of Responsibility","children":[{"content":"<pre data-lines=\"181,189\"><code class=\"language-ts\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">runChain</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">req</span>: <span class=\"hljs-built_in\">any</span>, <span class=\"hljs-attr\">middlewares</span>: <span class=\"hljs-title class_\">Function</span>[]</span>) {\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">run</span> = (<span class=\"hljs-params\"><span class=\"hljs-attr\">i</span>: <span class=\"hljs-built_in\">number</span></span>) =&gt; <span class=\"hljs-function\">() =&gt;</span> {\n    <span class=\"hljs-keyword\">if</span> (middlewares[i]) middlewares[i](req, <span class=\"hljs-title function_\">run</span>(i + <span class=\"hljs-number\">1</span>));\n  };\n  <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-number\">0</span>)();\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"181,189"}}],"payload":{"tag":"h3","lines":"177,178"}}],"payload":{"tag":"h2","lines":"118,119"}},{"content":"&#x1f3d7;&#xfe0f; Estructura t&#xed;pica en Express","children":[{"content":"<pre data-lines=\"192,202\"><code data-lines=\"192,202\"><span class=\"hljs-attribute\">src</span>/\n&#x251c;&#x2500;&#x2500; controllers/       (Command + Strategy)\n&#x251c;&#x2500;&#x2500; services/          (Facade + Singleton)\n&#x251c;&#x2500;&#x2500; repositories/      (Factory Method)\n&#x251c;&#x2500;&#x2500; middlewares/       (Chain of Responsibility)\n&#x251c;&#x2500;&#x2500; utils/             (Singleton)\n&#x251c;&#x2500;&#x2500; events/            (Observer)\n&#x251c;&#x2500;&#x2500; adapters/          (Adapter)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"192,202"}}],"payload":{"tag":"h2","lines":"190,191"}},{"content":"&#x1f527; Herramientas &#xfa;tiles","children":[{"content":"<code>class-transformer</code> / <code>class-validator</code> (Decorator)","children":[],"payload":{"tag":"li","lines":"205,206"}},{"content":"<code>eventemitter3</code>, <code>mitt</code> (Observer)","children":[],"payload":{"tag":"li","lines":"206,207"}},{"content":"<code>inversify</code>, <code>tsyringe</code> (Singleton, Factory)","children":[],"payload":{"tag":"li","lines":"207,208"}},{"content":"<code>express.Router</code> (Facade, Command)","children":[],"payload":{"tag":"li","lines":"208,210"}}],"payload":{"tag":"h2","lines":"203,204"}},{"content":"&#x26a0;&#xfe0f; Consejos Finales","children":[{"content":"No forzar patrones innecesariamente","children":[],"payload":{"tag":"li","lines":"212,213"}},{"content":"Comenzar con 2 o 3 patrones y refactorizar cuando sea necesario","children":[],"payload":{"tag":"li","lines":"213,214"}},{"content":"Aprender a identificar &quot;code smells&quot; para aplicar patrones con intenci&#xf3;n","children":[],"payload":{"tag":"li","lines":"214,216"}}],"payload":{"tag":"h2","lines":"210,211"}}],"payload":{"tag":"h1","lines":"0,1"}},null)</script>
</body>
</html>
